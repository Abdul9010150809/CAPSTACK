# CAPSTACK Backend Environment Configuration
# Copy this file to .env and fill in your values
# SECURITY: Never commit sensitive values to version control

# ============================================
# Server Configuration
# ============================================
PORT=3001
NODE_ENV=development
API_VERSION=1.0.0
LOG_LEVEL=info

# ============================================
# Database (PostgreSQL)
# ============================================
DATABASE_URL=postgresql://user:password@localhost:5432/capstack
DB_SSL=false

# ============================================
# Redis (Session & Cache)
# ============================================
REDIS_URL=redis://localhost:6379

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=your_jwt_secret_key_here_min_32_characters_long
JWT_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# ============================================
# Blockchain & Smart Contracts (NEW)
# ============================================
# Network: Ethereum Sepolia Testnet
CHAIN_ID=11155111
WEB3_PROVIDER_URL=https://sepolia.infura.io/v3/YOUR_INFURA_API_KEY
FINANCIAL_LEDGER_ADDRESS=0x
SECURITY_VAULT_ADDRESS=0x
CAPSTACK_TOKEN_ADDRESS=0x
PRIVATE_KEY=your_ethereum_private_key_without_0x

# ============================================
# Encryption & Cryptography (NEW)
# ============================================
ENCRYPTION_MASTER_KEY=your_master_encryption_key_min_32_chars
ENCRYPTION_ALGORITHM=aes-256-gcm
HASH_ALGORITHM=sha256

# ============================================
# Security & Compliance (NEW)
# ============================================
ENABLE_GDPR_COMPLIANCE=true
ENABLE_HIPAA_COMPLIANCE=true
ENABLE_SOC2_COMPLIANCE=true
DATA_RETENTION_DAYS=2555
MAX_LOGIN_ATTEMPTS=5

# ============================================
# ML Service (NEW)
# ============================================
ML_SERVICE_URL=http://localhost:8000
ML_MODEL_PATH=../ml-service/app/models
FRAUD_DETECTION_THRESHOLD=0.7

# ============================================
# SMTP Configuration (for email notifications)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@capstack.io

# ============================================
# CORS & Security Headers
# ============================================
CORS_ORIGIN=http://localhost:3000,https://capstack-2k25-frontend.onrender.com
CORS_CREDENTIALS=true

# ============================================
# External Services
# ============================================
PLAID_CLIENT_ID=
PLAID_SECRET=
ALPHA_VANTAGE_API_KEY=

# ============================================
# Feature Flags
# ============================================
FEATURE_BLOCKCHAIN_ENABLED=true
FEATURE_ML_FRAUD_DETECTION=true
FEATURE_SECURITY_AUDITING=true
FEATURE_COMPLIANCE_CHECKING=true
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ML Service Configuration
ML_SERVICE_URL=http://localhost:8000

# Frontend URL (for email links and CORS)
FRONTEND_URL=http://localhost:3000
